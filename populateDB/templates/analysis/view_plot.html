{% include "base.html" %}
{% include "navbar.html" %}

<div class="container-fluid vh-100">
     <div class="" style="margin-top:50px">
         <div class="rounded d-flex justify-content-center">
             <div class="col-md-5 col-sm-12 shadow-lg p-5 bg-light">
                 <div class="text-center">
                     <div class="modal-footer"></div>  
                 </div>
                 <div class="container">
			 <center>
				 <canvas id="pdf-viewer"></canvas>
			</center> 
		 </div>
		 <div class="modal-footer"></div>
		 <form method="POST" enctype="multipart/form-data" class="post-form" action="update_plots_symbol/{{analysisMarker_id}}" > 
                    {% csrf_token %}
                    <div class="col-sm">
                        <input type="radio" id="checked" name="checked" value="ok">
                        <label for="ok">OK</label><br>
		            </div>
                    <div class="col-sm">
                        <input type="radio" id="checked" name="checked" value="not_ok">
                        <label for="not_ok">Not OK</label><br>
		    	<br>      
		    </div>
                        <div class="modal-footer"></div>
				<button type="submit" class="btn btn-primary">Submit</button>
			</div>
                </form> 
             </div>
         </div>
     </div>
   </div>

<script>
    // PDF.js script to load and render the PDF file
    // Replace 'example.pdf' with the path to your PDF file
    const pdfPath = '{{ plot_path }}';
    const canvas = document.getElementById('pdf-viewer');
    pdfjsLib.getDocument(pdfPath).promise.then(pdf => {
        pdf.getPage(1).then(page => {
            const viewport = page.getViewport({ scale: 1.5 });
            canvas.height = viewport.height;
            canvas.width = viewport.width;
            const renderContext = {
                canvasContext: canvas.getContext('2d'),
                viewport: viewport
            };
            page.render(renderContext);
        });
    });
    
</script>
